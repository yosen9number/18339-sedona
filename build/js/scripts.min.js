!function(){var a=document.querySelector(".main-menu__icon"),b=document.querySelector(".main-menu__close"),c=document.querySelector(".main-menu__items");a.addEventListener("click",function(a){c.classList.add("main-menu__items--open")}),b.addEventListener("click",function(a){c.classList.remove("main-menu__items--open")})}(),function(){function a(a){function b(a){var b=Number(c.value);isNaN(b)&&(b=0),a?c.value=b+1:c.value=b-1}var c=a.querySelector(".form-item__number"),d=a.querySelector(".form-item__btn--minus"),e=a.querySelector(".form-item__btn--plus");d.addEventListener("click",function(){b(!1),console.log("нажали -")}),e.addEventListener("click",function(){b(!0),console.log("нажали +")})}for(var b=document.querySelectorAll(".form-item__btn"),c=0;c<b.length;c++)a(b[c])}(),function(){function a(a){c=c.filter(function(b){return b.figure!=a}),a.parentNode.removeChild(a)}function b(b){var d=document.querySelector(".photo-items"),e=document.querySelector("#image-template").innerHTML;if(b.type.match(/image.*/)){var f=new FileReader;f.addEventListener("load",function(f){var g=e.replace("{{image}}",f.target.result);g=g.replace("{{name}}",b.name);document.createElement("figure");figure.classList.add("photo-item"),figure.innerHTML=g,d.appendChild(figure),c.push({file:b,figure:figure}),figure.querySelector(".photo-item__close").addEventListener("click",function(b){b.preventDefault(),a(figure)})}),f.readAsDataURL(b)}}if("FormData"in window){var c=[],d=document.querySelector(".main-form");d.addEventListener("submit",function(a){a.preventDefault();var b=new FormData(d),e=new XMLHttpRequest,f=(new Date).getTime();c.forEach(function(a){b.append("images",a.file)}),e.open("post","https://echo.htmlacademy.ru/adaptive?"+f),e.addEventListener("readystatechange",function(){4==e.readyState&&console.log(e.responseText)}),e.send(b),d.reset()}),document.querySelector(".form-items__file").addEventListener("change",function(){for(var a=this.files,c=0;c<a.length;c++)b(a[c]);this.value=""})}}();